!function(c){c(document).ready(function(){function o(t){var a=[],e=t.prev();c("tr:not([data-repeater])",t).each(function(){c("input",this).each(function(){var t=c(this).attr("data-name").split(/[[\]]{1,2}/);void 0===a[t[3]]&&(a[t[3]]={}),a[t[3]][t[4]]=c(this).val()})}),e.val(JSON.stringify(a)).trigger("change")}c(document).on("click",".gf_login_widget_editor .tabs a",function(t){t.preventDefault();var t=c(this).parent().parent(),a=c(this).parent(),e=c(this).attr("data-tab");a.find("a").removeClass("active"),c(this).addClass("active"),t.find('.tab-content:not( [data-tab="'+e+'"] )').hide(),t.find('.tab-content[data-tab="'+e+'"]').show(),t.find('input[data-type="active_view"]').val(e)}),c(document).on("click",".gf_login_widget_add_link",function(t){t.preventDefault();var t=c(this).prev(),a=c("tr[data-repeater]",t),e=(c("tr.new",t).removeClass("new"),0),n=(c("tr:not([data-repeater])",t).each(function(){var t=c("td:first-child input",this).attr("data-name").match(/\[(\d*)\]/gim)[1],t=parseInt(t.replace("[","").replace("]",""));e<t&&(e=t)}),e++,c('<tr class="new">'+a.html()+"</tr>")),i=c("input.link-text",n),r=c("input.link-url",n);i.attr("data-name",i.attr("data-name")+"["+e+"][text]"),r.attr("data-name",r.attr("data-name")+"["+e+"][url]"),n.insertBefore(a),o(t)}),c(document).on("click",'.gf_login_widget_links a[data-action="delete-link"]',function(t){t.preventDefault();var t=c(this).closest("tr"),a=c(this).closest("table");t.remove(),0===c("tr:not([data-repeater])",a).length&&a.next().click(),o(a)}),c(document).on("change",".gf_login_widget_links input",function(){o(c(this).closest("table"))}),c(document).on("change",".gf_login_widget_registrationpage",function(){"custom"===c(this).val()?c(this).next("table").show():c(this).next("table").hide()})})}(jQuery);