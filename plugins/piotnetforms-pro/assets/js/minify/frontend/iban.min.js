!function(e,F){"function"==typeof define&&define.amd?define(["exports"],F):F("object"==typeof exports&&"string"!=typeof exports.nodeName?exports:e.IBAN={})}(this,function(e){function F(e){return e=e.toUpperCase(),e=e.substr(4)+e.substr(0,4),e.split("").map(function(e){var F=e.charCodeAt(0);return F>=o&&B>=F?F-o+10:e}).join("")}function n(e){for(var F,n=e;n.length>2;)F=n.slice(0,9),n=parseInt(F,10)%97+n.slice(F.length);return parseInt(n,10)%97}function t(e){var F=e.match(/(.{3})/g).map(function(e){var F,n=e.slice(0,1),t=parseInt(e.slice(1),10);switch(n){case"A":F="0-9A-Za-z";break;case"B":F="0-9A-Z";break;case"C":F="A-Za-z";break;case"F":F="0-9";break;case"L":F="a-z";break;case"U":F="A-Z";break;case"W":F="0-9a-z"}return"(["+F+"]{"+t+"})"});return new RegExp("^"+F.join("")+"$")}function r(e){return e.replace(s,"").toUpperCase()}function A(e,F,n,t){this.countryCode=e,this.length=F,this.structure=n,this.example=t}function w(e){c[e.countryCode]=e}function i(e){return"string"==typeof e||e instanceof String}Array.prototype.map||(Array.prototype.map=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var F=Object(this),n=F.length>>>0;if("function"!=typeof e)throw new TypeError;for(var t=new Array(n),r=arguments.length>=2?arguments[1]:void 0,A=0;n>A;A++)A in F&&(t[A]=e.call(r,F[A],A,F));return t});var o="A".charCodeAt(0),B="Z".charCodeAt(0);A.prototype._regex=function(){return this._cachedRegex||(this._cachedRegex=t(this.structure))},A.prototype.isValid=function(e){return this.length==e.length&&this.countryCode===e.slice(0,2)&&this._regex().test(e.slice(4))&&1==n(F(e))},A.prototype.toBBAN=function(e,F){return this._regex().exec(e.slice(4)).slice(1).join(F)},A.prototype.fromBBAN=function(e){if(!this.isValidBBAN(e))throw new Error("Invalid BBAN");var t=n(F(this.countryCode+"00"+e)),r=("0"+(98-t)).slice(-2);return this.countryCode+r+e},A.prototype.isValidBBAN=function(e){return this.length-4==e.length&&this._regex().test(e)};var c={};w(new A("AD",24,"F04F04A12","AD1200012030200359100100")),w(new A("AE",23,"F03F16","AE070331234567890123456")),w(new A("AL",28,"F08A16","AL47212110090000000235698741")),w(new A("AT",20,"F05F11","AT611904300234573201")),w(new A("AZ",28,"U04A20","AZ21NABZ00000000137010001944")),w(new A("BA",20,"F03F03F08F02","BA391290079401028494")),w(new A("BE",16,"F03F07F02","BE68539007547034")),w(new A("BG",22,"U04F04F02A08","BG80BNBG96611020345678")),w(new A("BH",22,"U04A14","BH67BMAG00001299123456")),w(new A("BR",29,"F08F05F10U01A01","BR9700360305000010009795493P1")),w(new A("BY",28,"A04F04A16","BY13NBRB3600900000002Z00AB00")),w(new A("CH",21,"F05A12","CH9300762011623852957")),w(new A("CR",22,"F04F14","CR72012300000171549015")),w(new A("CY",28,"F03F05A16","CY17002001280000001200527600")),w(new A("CZ",24,"F04F06F10","CZ6508000000192000145399")),w(new A("DE",22,"F08F10","DE89370400440532013000")),w(new A("DK",18,"F04F09F01","DK5000400440116243")),w(new A("DO",28,"U04F20","DO28BAGR00000001212453611324")),w(new A("EE",20,"F02F02F11F01","EE382200221020145685")),w(new A("EG",29,"F04F04F17","EG800002000156789012345180002")),w(new A("ES",24,"F04F04F01F01F10","ES9121000418450200051332")),w(new A("FI",18,"F06F07F01","FI2112345600000785")),w(new A("FO",18,"F04F09F01","FO6264600001631634")),w(new A("FR",27,"F05F05A11F02","FR1420041010050500013M02606")),w(new A("GB",22,"U04F06F08","GB29NWBK60161331926819")),w(new A("GE",22,"U02F16","GE29NB0000000101904917")),w(new A("GI",23,"U04A15","GI75NWBK000000007099453")),w(new A("GL",18,"F04F09F01","GL8964710001000206")),w(new A("GR",27,"F03F04A16","GR1601101250000000012300695")),w(new A("GT",28,"A04A20","GT82TRAJ01020000001210029690")),w(new A("HR",21,"F07F10","HR1210010051863000160")),w(new A("HU",28,"F03F04F01F15F01","HU42117730161111101800000000")),w(new A("IE",22,"U04F06F08","IE29AIBK93115212345678")),w(new A("IL",23,"F03F03F13","IL620108000000099999999")),w(new A("IS",26,"F04F02F06F10","IS140159260076545510730339")),w(new A("IT",27,"U01F05F05A12","IT60X0542811101000000123456")),w(new A("IQ",23,"U04F03A12","IQ98NBIQ850123456789012")),w(new A("JO",30,"A04F22","JO15AAAA1234567890123456789012")),w(new A("KW",30,"U04A22","KW81CBKU0000000000001234560101")),w(new A("KZ",20,"F03A13","KZ86125KZT5004100100")),w(new A("LB",28,"F04A20","LB62099900000001001901229114")),w(new A("LC",32,"U04F24","LC07HEMM000100010012001200013015")),w(new A("LI",21,"F05A12","LI21088100002324013AA")),w(new A("LT",20,"F05F11","LT121000011101001000")),w(new A("LU",20,"F03A13","LU280019400644750000")),w(new A("LV",21,"U04A13","LV80BANK0000435195001")),w(new A("MC",27,"F05F05A11F02","MC5811222000010123456789030")),w(new A("MD",24,"U02A18","MD24AG000225100013104168")),w(new A("ME",22,"F03F13F02","ME25505000012345678951")),w(new A("MK",19,"F03A10F02","MK07250120000058984")),w(new A("MR",27,"F05F05F11F02","MR1300020001010000123456753")),w(new A("MT",31,"U04F05A18","MT84MALT011000012345MTLCAST001S")),w(new A("MU",30,"U04F02F02F12F03U03","MU17BOMM0101101030300200000MUR")),w(new A("NL",18,"U04F10","NL91ABNA0417164300")),w(new A("NO",15,"F04F06F01","NO9386011117947")),w(new A("PK",24,"U04A16","PK36SCBL0000001123456702")),w(new A("PL",28,"F08F16","PL61109010140000071219812874")),w(new A("PS",29,"U04A21","PS92PALS000000000400123456702")),w(new A("PT",25,"F04F04F11F02","PT50000201231234567890154")),w(new A("QA",29,"U04A21","QA30AAAA123456789012345678901")),w(new A("RO",24,"U04A16","RO49AAAA1B31007593840000")),w(new A("RS",22,"F03F13F02","RS35260005601001611379")),w(new A("SA",24,"F02A18","SA0380000000608010167519")),w(new A("SC",31,"U04F04F16U03","SC18SSCB11010000000000001497USD")),w(new A("SE",24,"F03F16F01","SE4550000000058398257466")),w(new A("SI",19,"F05F08F02","SI56263300012039086")),w(new A("SK",24,"F04F06F10","SK3112000000198742637541")),w(new A("SM",27,"U01F05F05A12","SM86U0322509800000000270100")),w(new A("ST",25,"F08F11F02","ST68000100010051845310112")),w(new A("SV",28,"U04F20","SV62CENR00000000000000700025")),w(new A("TL",23,"F03F14F02","TL380080012345678910157")),w(new A("TN",24,"F02F03F13F02","TN5910006035183598478831")),w(new A("TR",26,"F05F01A16","TR330006100519786457841326")),w(new A("UA",29,"F25","UA511234567890123456789012345")),w(new A("VA",22,"F18","VA59001123000012345678")),w(new A("VG",24,"U04F16","VG96VPVG0000012345678901")),w(new A("XK",20,"F04F10F02","XK051212012345678906")),w(new A("AO",25,"F21","AO69123456789012345678901")),w(new A("BF",27,"F23","BF2312345678901234567890123")),w(new A("BI",16,"F12","BI41123456789012")),w(new A("BJ",28,"F24","BJ39123456789012345678901234")),w(new A("CI",28,"U02F22","CI70CI1234567890123456789012")),w(new A("CM",27,"F23","CM9012345678901234567890123")),w(new A("CV",25,"F21","CV30123456789012345678901")),w(new A("DZ",24,"F20","DZ8612345678901234567890")),w(new A("IR",26,"F22","IR861234568790123456789012")),w(new A("MG",27,"F23","MG1812345678901234567890123")),w(new A("ML",28,"U01F23","ML15A12345678901234567890123")),w(new A("MZ",25,"F21","MZ25123456789012345678901")),w(new A("SN",28,"U01F23","SN52A12345678901234567890123")),w(new A("GF",27,"F05F05A11F02","GF121234512345123456789AB13")),w(new A("GP",27,"F05F05A11F02","GP791234512345123456789AB13")),w(new A("MQ",27,"F05F05A11F02","MQ221234512345123456789AB13")),w(new A("RE",27,"F05F05A11F02","RE131234512345123456789AB13")),w(new A("PF",27,"F05F05A11F02","PF281234512345123456789AB13")),w(new A("TF",27,"F05F05A11F02","TF891234512345123456789AB13")),w(new A("YT",27,"F05F05A11F02","YT021234512345123456789AB13")),w(new A("NC",27,"F05F05A11F02","NC551234512345123456789AB13")),w(new A("BL",27,"F05F05A11F02","BL391234512345123456789AB13")),w(new A("MF",27,"F05F05A11F02","MF551234512345123456789AB13")),w(new A("PM",27,"F05F05A11F02","PM071234512345123456789AB13")),w(new A("WF",27,"F05F05A11F02","WF621234512345123456789AB13"));var s=/[^a-zA-Z0-9]/g,a=/(.{4})(?!$)/g;e.isValid=function(e){if(!i(e))return!1;e=r(e);var F=c[e.slice(0,2)];return!!F&&F.isValid(e)},e.toBBAN=function(e,F){"undefined"==typeof F&&(F=" "),e=r(e);var n=c[e.slice(0,2)];if(!n)throw new Error("No country with code "+e.slice(0,2));return n.toBBAN(e,F)},e.fromBBAN=function(e,F){var n=c[e];if(!n)throw new Error("No country with code "+e);return n.fromBBAN(r(F))},e.isValidBBAN=function(e,F){if(!i(F))return!1;var n=c[e];return n&&n.isValidBBAN(r(F))},e.printFormat=function(e,F){return"undefined"==typeof F&&(F=" "),r(e).replace(a,"$1"+F)},e.electronicFormat=r,e.countries=c});