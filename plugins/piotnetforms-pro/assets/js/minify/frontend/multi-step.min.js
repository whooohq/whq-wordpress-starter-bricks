jQuery(document).ready((function(t){function e(e){var i,s=e.closest("[data-piotnetforms-multi-step-form-id]").attr("data-piotnetforms-multi-step-form-id"),n=e.closest(".piotnetforms-multi-step-form__content-item"),a=n.find('[data-piotnetforms-id="'+s+'"]'),r=t('[data-piotnetforms-submit-form-id="'+s+'"]').attr("data-piotnetforms-required-text"),l=0,m=!1;if(a.each((function(){if(null==t(this).data("piotnetforms-stripe")&&null==t(this).data("piotnetforms-html")){var e=t(this).closest(".piotnetforms-field-type-checkbox.piotnetforms-field-required"),o=0;e.length>0&&(o=e.find("input[type=checkbox]:checked").length),null!=t(this).attr("oninvalid")&&(r=t(this).attr("oninvalid").replace("this.setCustomValidity('","").replace("')",""));var i=t(this)[0].checkValidity(),s=t(t(this)[0]).next()[0];if(t(s).hasClass("flatpickr-mobile")&&(i=s.checkValidity()),!i&&0==t(this).closest(".piotnetforms-conditional-logic-hidden").length&&"none"!=t(this).closest("[data-piotnetforms-conditional-logic]").css("display")&&0==t(this).closest("[data-piotnetforms-signature]").length||0==o&&e.length>0&&"none"!=t(this).closest(".piotnetforms-fields-wrapper").css("display")){if("none"==t(this).css("display")||null!=t(this).data("piotnetforms-image-select")||e.length>0){t(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-required]").html(r);var n=t(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-required]").next();0===n.length||m||(t("html, body").animate({scrollTop:n.offset().top-100},500),m=!0)}else m||null!=t(this).data("piotnetforms-image-select")||(t(this)[0].reportValidity(),m=!0);l++}else""==t(this).val()&&0==t(this).closest(".piotnetforms-conditional-logic-hidden").length&&"true"==t(this).attr("aria-required")&&void 0!==t(this).attr("data-piotnetforms-select-autocomplete")?(t(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-required]").html(r),l++):(null!=t(this).data("piotnetforms-image-select")&&(t(this).closest(".piotnetforms-image-select-field").find(".image_picker_selector").find(".selected").length<t(this).data("piotnetforms-image-select-min-select")?(t(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-image_select_min_select_check]").html(t(this).data("piotnetforms-image-select-min-select-message")).fadeIn(),l++):t(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-image_select_min_select_check]").fadeOut()),t(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-required]").html(""),null!=t(this).data("piotnetforms-flatpickr-custom-options")&&""==t(this).val()&&0==t(this).closest(".piotnetforms-conditional-logic-hidden").length&&null!=t(this).attr("required")&&(t(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-required]").html(r),l++),t(this).closest("[data-piotnetforms-signature]").length>0&&(t(this).closest("[data-piotnetforms-signature]").find("[data-piotnetforms-signature-export]").trigger("click"),""==t(this).val()&&0==t(this).closest(".piotnetforms-conditional-logic-hidden").length&&null!=t(this).attr("required")&&(t(this).closest(".piotnetforms-field-group").find("[data-piotnetforms-required]").html(r),l++)))}})),0==l){n.removeClass("active");var f=n.next();f.addClass("active");var p=f.index();e.closest(".piotnetforms-multi-step-form").find(".piotnetforms-multi-step-form__progressbar-item").eq(p).addClass("active");var d=e.closest("[data-piotnetforms-multi-step-form-scroll-to-top]");if(d.length>0){var c=t("[data-piotnetforms-break-point-md]").data("piotnetforms-break-point-md"),h=t("[data-piotnetforms-break-point-lg]").data("piotnetforms-break-point-lg"),u=window.innerWidth;u>=h&&t("html, body").animate({scrollTop:d.offset().top-d.data("piotnetforms-multi-step-form-scroll-to-top-offset-desktop")},300),u>=c&&u<h&&t("html, body").animate({scrollTop:d.offset().top-d.data("piotnetforms-multi-step-form-scroll-to-top-offset-tablet")},300),u<c&&t("html, body").animate({scrollTop:d.offset().top-d.data("piotnetforms-multi-step-form-scroll-to-top-offset-mobile")},300)}(i=f.find("[data-piotnetforms-signature] canvas.not-resize")).length>0&&i.each((function(){var e=parseInt(t(this).css("max-width").replace("px","")),o=parseInt(t(this).closest(".piotnetforms-fields-wrapper").width());o>0&&(e>o?t(this).attr("width",o):t(this).attr("width",e),t(this).removeClass("not-resize"))})),o(n.closest("form").find(".piotnetforms-multi-step-form__content-item.active"))}}function o(e){e.find("[data-piotnetforms-animation]").each((function(){t(this).attr("class",(function(t,e){return e.replace(/(^|\s)animate__\S+/g,"")}));var e="animate__animated animate__"+t(this).attr("data-piotnetforms-animation"),o=parseInt(t(this).attr("data-piotnetforms-animation-delay")),i=t(this);o>0?setTimeout((function(){i.addClass(e)}),o):t(this).addClass(e)}))}t(document).on("click",'[data-piotnetforms-nav="next"]',(function(o){o.preventDefault(),e(t(this))})),o(t(".piotnetforms-multi-step-form__content-item.active")),t(document).on("change","[data-piotnetforms-multi-step-form-autonext]",(function(){e(t(this))})),t(document).on("click",".image_picker_selector>li>div",(function(){t(this).closest(".piotnetforms-field").find("[data-piotnetforms-multi-step-form-autonext]").length>0&&e(t(this))})),t(document).on("keyup",(function(o){if(13===o.keyCode){var i=t(document).find(".piotnetforms-multi-step-form__content-item.active [data-piotnetforms-press-enter-next]");i.length>0&&i.each((function(){e(t(this))}))}})),t(document).on("click",'[data-piotnetforms-nav="prev"]',(function(e){e.preventDefault();var i=t(this).closest(".piotnetforms-multi-step-form__content-item"),s=i.prev();i.removeClass("active"),s.addClass("active");var n=i.index();t(this).closest(".piotnetforms-multi-step-form").find(".piotnetforms-multi-step-form__progressbar-item").eq(n).removeClass("active");var a=t(this).closest("[data-piotnetforms-multi-step-form-scroll-to-top]");if(a.length>0){var r=t("[data-piotnetforms-break-point-md]").data("piotnetforms-break-point-md"),l=t("[data-piotnetforms-break-point-lg]").data("piotnetforms-break-point-lg"),m=window.innerWidth;m>=l&&t("html, body").animate({scrollTop:a.offset().top-a.data("piotnetforms-multi-step-form-scroll-to-top-offset-desktop")},300),m>=r&&m<l&&t("html, body").animate({scrollTop:a.offset().top-a.data("piotnetforms-multi-step-form-scroll-to-top-offset-tablet")},300),m<r&&t("html, body").animate({scrollTop:a.offset().top-a.data("piotnetforms-multi-step-form-scroll-to-top-offset-mobile")},300)}o(i.closest("form").find(".piotnetforms-multi-step-form__content-item.active"))}))}));