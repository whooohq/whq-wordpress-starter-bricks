(()=>{var __webpack_exports__={};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}jQuery(document).ready((function($){var ajaxurl=$("[data-piotnetforms-ajax-url]").attr("data-piotnetforms-ajax-url");function resizeSignature(){$(document).find("[data-piotnetforms-signature] canvas").each((function(){var t=parseInt($(this).css("max-width").replace("px","")),e=parseInt($(this).closest(".piotnetforms-fields-wrapper").width());e>0&&(t>e||Number.isNaN(t)?$(this).attr("width",e):$(this).attr("width",t),$(this).attr("height",$(this).css("height")))}))}function piotnetformsConditionalLogicFormCheck(t){t.each((function(){var t=$(this),e=$(this).data("piotnetforms-conditional-logic-not-field"),o=t.data("piotnetforms-conditional-logic-speed"),i=t.data("piotnetforms-conditional-logic-easing"),a=t.data("piotnetforms-conditional-logic"),r=!0,n=$(this).closest("[data-piotnetforms-repeater-id]");if(a){if(null!=e)var s=(l=$(this)).closest(".piotnetforms-location-popup").length,d=(f=$(this)).data("piotnetforms-conditional-logic-not-field-form-id");else{var l,f;s=(l=$(this).closest(".piotnetforms-fields-wrapper,.piotnetforms-button-wrapper")).closest(".piotnetforms-location-popup").length,d=(f=t.find("[data-piotnetforms-id]")).data("piotnetforms-id")}var p=!1;$(this).closest(".piotnetforms-multi-step-form__content-item-button").length>0&&(p=!0,(l=$(this).closest(".piotnetforms-multi-step-form__content-item-button")).find("[data-piotnetforms-conditional-logic]").css({display:"block"}));var m=JSON.stringify(a);if(-1!==m.indexOf("piotnetforms")&&-1==m.indexOf("show")&&(r=!1),null!=e){r=!0;var c=1}else c=f.attr("name").replace("[]","").replace("form_fields[","").replace("]","");for(var h=0,u=0,v="",g="",_=0;_<a.length;_++){if(null!=e)var k=1;else k=f.attr("name").replace("form_fields[","").replace("[]","").replace("]","");var b=a[_].piotnetforms_conditional_logic_form_if.trim().replace('[field id="',"").replace('"]',""),y=a[_].piotnetforms_conditional_logic_form_comparison_operators,C=a[_].piotnetforms_conditional_logic_form_value,w=a[_].piotnetforms_conditional_logic_form_type,F=h;if("number"==w&&(C=parseFloat(C)),c==k&&(u++,v=a[_].piotnetforms_conditional_logic_form_and_or_operators,""!=b)){if(n.length>0){if(0==(x=n.find('[name="form_fields['+b+']"][data-piotnetforms-id="'+d+'"]')).length)var x=$(document).find('[name="form_fields['+b+']"][data-piotnetforms-id="'+d+'"]')}else x=$(document).find('[name="form_fields['+b+']"][data-piotnetforms-id="'+d+'"]');var N=x.attr("type");if(x.length>0){if("radio"==N||"checkbox"==N)if(n.length>0)var D=n.find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+']"]:checked').val();else D=$(document).find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+']"]:checked').val();else{D=x.val();D=Array.isArray(D)?D:D.trim()}if(null!=D&&-1!==D.indexOf(";")&&(D=(D=D.split(";"))[0]),"number"==w&&(null==D?D=0:(D=parseFloat(D),isNaN(D)&&(D=0))),"not-empty"==y&&(""!=D&&0!=D||(h+=1)),"empty"==y&&(""==D&&0==D||(h+=1)),"="==y&&D!=C&&(h+=1),"!="==y&&D==C&&(h+=1),">"==y&&D<=C&&(h+=1),">="==y&&D<C&&(h+=1),"<"==y&&D>=C&&(h+=1),"<="==y&&D>C&&(h+=1),"checked"==y){var S=!1;$.each(x,(function(){$(this).prop("checked")&&(S=!0)})),S||(h+=1)}if("unchecked"==y&&x.prop("checked")&&(h+=1),"contains"==y){C=C.split(",");var I=!0;$.each(C,(function(t,e){null!=D&&-1!==D.indexOf(e.trim())&&(I=!1)})),I&&(h+=1)}}if(n.length>0){if(0==(O=n.find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+'][]"]')).length)var O=$(document).find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+'][]"]')}else O=$(document).find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+'][]"]');if(O.length>0){if(n.length>0)null==(L=n.find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+'][]"]').attr("type"))&&(L=$(document).find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+'][]"]').attr("type"));else var L=$(document).find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+'][]"]').attr("type");var T=O.val();T=[];if("checkbox"==L)n.length>0?n.find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+'][]"]:checked').each((function(){T.push($(this).val())})):$(document).find('[data-piotnetforms-id="'+d+'"][name="form_fields['+b+'][]"]:checked').each((function(){T.push($(this).val())}));else if(null==(T=O.val()))T=[];if("checked"==y&&T.length<=0&&(h+=1),"unchecked"==y&&T.length>0&&(h+=1),"not-empty"==y&&0==T.length&&(h+=1),"empty"==y&&T.length>0&&(h+=1),"="!=y&&"!="!=y&&">"!=y&&">="!=y&&"<"!=y&&"<="!=y||0==T.length&&(h+=1),"="==y&&(T.includes(C)||(h+=1)),"!="==y)for(var q=0;q<T.length;q++)T[q]==C&&(h+=1);if(">"==y)for(q=0;q<T.length;q++)T[q]<=C&&(h+=1);if(">="==y)for(q=0;q<T.length;q++)T[q]<C&&(h+=1);if("<"==y)for(q=0;q<T.length;q++)T[q]>=C&&(h+=1);if("<="==y)for(q=0;q<T.length;q++)T[q]>C&&(h+=1);"contains"==y&&-1===T.join().indexOf(C)&&(h+=1)}}var R=f;if(F==h&&null!=a[_]&&null!=a[_].piotnetforms_conditional_logic_form_set_value&&-1!==a[_].piotnetforms_conditional_logic_form_action.indexOf("set_value"))if(g=a[_].piotnetforms_conditional_logic_form_set_value,null!=a[_].piotnetforms_conditional_logic_form_set_value_for&&""!=a[_].piotnetforms_conditional_logic_form_set_value_for)if(n.length>0)R=n.find('[data-piotnetforms-id="'+d+'"][name^="form_fields['+a[_].piotnetforms_conditional_logic_form_set_value_for+']"]');else R=$(document).find('[data-piotnetforms-id="'+d+'"][name^="form_fields['+a[_].piotnetforms_conditional_logic_form_set_value_for+']"]');else R=f}var A=f.find("option:first"),M=!1;"radio"!=R.attr("type")&&"checkbox"!=R.attr("type")||(M=!0);var P=f.data("piotnetforms-default-value");if("or"==v&&u>h||"and"==v&&0==h)s>0?("hidden"!=f.attr("type")?l.hasClass("piotnetforms-conditional-logic-hidden")&&(p=!0,l.show().removeClass("piotnetforms-conditional-logic-hidden")):void 0!==f.attr("data-date-format")&&l.hasClass("piotnetforms-conditional-logic-hidden")&&(p=!0,l.show().removeClass("piotnetforms-conditional-logic-hidden")),R.each((function(){""!=g&&M&&(g==$(this).val()&&!0!==$(this).prop("checked")&&(p=!0,$(this).prop("checked",!0)),"unchecked"==g||"checked"==g?"unchecked"==g?!1!==$(this).prop("checked")&&(p=!0,$(this).prop("checked",!1)):!0!==$(this).prop("checked")&&(p=!0,$(this).prop("checked",!0)):g==$(this).val()&&!0!==$(this).prop("checked")&&(p=!0,$(this).prop("checked",!0))),""==g||M||$(this).val()!==g&&(p=!0,$(this).val(g))}))):("hidden"!=f.attr("type")?(l.hasClass("piotnetforms-conditional-logic-hidden")||"block"!==l.css("display"))&&(p=!0,l.slideDown(o,i,(function(){l.hasClass("piotnetforms-button-submit")?$(this).attr("style","display: inline-block;"):$(this).attr("style","display: block;")})).removeClass("piotnetforms-conditional-logic-hidden")):void 0!==f.attr("data-date-format")&&(l.hasClass("piotnetforms-conditional-logic-hidden")||"block"!==l.css("display"))&&(p=!0,l.slideDown(o,i,(function(){$(this).attr("style","display: block;")})).removeClass("piotnetforms-conditional-logic-hidden")),R.each((function(){""!=g&&M&&(g==$(this).val()&&!0!==$(this).prop("checked")&&(p=!0,$(this).prop("checked",!0)),"unchecked"==g||"checked"==g?"unchecked"==g?!1!==$(this).prop("checked")&&(p=!0,$(this).prop("checked",!1)):!0!==$(this).prop("checked")&&(p=!0,$(this).prop("checked",!0)):g==$(this).val()&&!0!==$(this).prop("checked")&&(p=!0,$(this).prop("checked",!0))),""==g||M||$(this).val()!==g&&(p=!0,$(this).val(g))})));else if(s>0){if(r)if(l.hasClass("piotnetforms-conditional-logic-hidden")&&"none"===l.css("display")||(p=!0,l.hide().addClass("piotnetforms-conditional-logic-hidden")),null!=e)null!=(J=t.data("piotnetforms-repeater-id"))&&(p=!0,t.siblings('[data-piotnetforms-repeater-id="'+J+'"]').remove()),l.find("[data-piotnetforms-id]").each((function(){var t=$(this).find("option:first"),e=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(e=!0);var o=$(this).data("piotnetforms-default-value");if(null!=o&&""!=o||Number.isInteger(o))if(e){var i=o==$(this).val();($(this).prop("checked")!==i||$(this).hasClass("piotnetforms-checked")||$(this).hasClass("piotnetforms-checked-setvalue"))&&(p=!0,$(this).prop("checked",i).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue"))}else $(this).val()!==$(this).attr("data-piotnetforms-default-value")&&(p=!0,$(this).val(o));else 0!=t.length?$(this).val()!==t.val()&&(p=!0,$(this).val(t.val())):e?(!1!==$(this).prop("checked")||$(this).hasClass("piotnetforms-checked")||$(this).hasClass("piotnetforms-checked-setvalue"))&&(p=!0,$(this).prop("checked",!1).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue")):""!==$(this).val()&&(p=!0,$(this).val(""))}));if(null==e)if(null!=P&&""!=P||Number.isInteger(P))if(M){var V=P==f.val();(f.prop("checked")!==V||f.hasClass("piotnetforms-checked")||f.hasClass("piotnetforms-checked-setvalue"))&&(p=!0,f.prop("checked",V).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue"))}else f.val()!==f.attr("data-piotnetforms-default-value")&&(p=!0,f.val(P));else if(0!=A.length)f.val()!==A.val()&&(p=!0,f.val(A.val()));else if(M){var j=!1;f.each((function(){!1!==$(this).prop("checked")&&(j=!0)})),(j||f.hasClass("piotnetforms-checked")||f.hasClass("piotnetforms-checked-setvalue"))&&(p=!0,f.prop("checked",!1).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue"))}else""!==f.val()&&(p=!0,f.val(""))}else{var J;if(r)if(l.hasClass("piotnetforms-conditional-logic-hidden")&&"none"===l.css("display")||(p=!0,l.slideUp(o,i).addClass("piotnetforms-conditional-logic-hidden")),null!=e)null!=(J=t.data("piotnetforms-repeater-id"))&&(p=!0,t.siblings('[data-piotnetforms-repeater-id="'+J+'"]').remove()),l.find("[data-piotnetforms-id]").each((function(){var t=$(this).find("option:first"),e=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(e=!0);var o=$(this).data("piotnetforms-default-value");if(null!=o&&""!=o||Number.isInteger(o))if(e){var i=o==$(this).val();($(this).prop("checked")!==i||$(this).hasClass("piotnetforms-checked")||$(this).hasClass("piotnetforms-checked-setvalue"))&&(p=!0,$(this).prop("checked",i).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue"))}else $(this).val()!==$(this).attr("data-piotnetforms-default-value")&&(p=!0,$(this).val(o));else 0!=t.length?$(this).val()!==t.val()&&(p=!0,$(this).val(t.val())):e?(!1!==$(this).prop("checked")||$(this).hasClass("piotnetforms-checked")||$(this).hasClass("piotnetforms-checked-setvalue"))&&(p=!0,$(this).prop("checked",!1).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue")):""!==$(this).val()&&(p=!0,$(this).val(""))}));if(null==e)if(null!=P&&""!=P||Number.isInteger(P))if(M){V=P==f.val();(f.prop("checked")!==V||f.hasClass("piotnetforms-checked")||f.hasClass("piotnetforms-checked-setvalue"))&&(p=!0,f.prop("checked",V).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue"))}else f.val()!==f.attr("data-piotnetforms-default-value")&&(p=!0,f.val(P));else if(0!=A.length)f.val()!==A.val()&&(p=!0,f.val(A.val()));else if(M){var W=!1;f.each((function(){!1!==$(this).prop("checked")&&(W=!0)})),(W||f.hasClass("piotnetforms-checked")||f.hasClass("piotnetforms-checked-setvalue"))&&(p=!0,f.prop("checked",!1).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue"))}else""!=f.val()&&(p=!0,f.val(""))}if(p){var z=$(this).closest("[data-piotnetforms-repeater-form-id]");if(z.length>0)z.find("[data-piotnetforms-calculated-fields]").each((function(){piotnetformsCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))}));else piotnetformsCalculatedFieldsForm("")}$(this).hasClass("piotnetforms-field-type-signature")&&$(this).closest(".piotnetforms-fields-wrapper").hasClass("piotnetforms-conditional-logic-hidden")&&resizeSignature()}}))}window.setFieldValue=function(t,e){var o=t.find("option:first"),i=!1;"radio"!=t.attr("type")&&"checkbox"!=t.attr("type")||(i=!0);var a=t.closest(".piotnetforms-fields-wrapper").find("[data-piotnetforms-image-upload]");t.each((function(){if(""!=e&&i){for(var t=e.split(","),r=0;r<t.length;r++)t[r]==$(this).val()&&$(this).prop("checked",!0);"unchecked"==e||"checked"==e?"unchecked"==e?$(this).prop("checked",!1):$(this).prop("checked",!0):e==$(this).val()&&$(this).prop("checked",!0)}if(""==e||i||0!=o.length||($(this).hasClass("piotnetforms-date-field")?$(this).attr("data-piotnetforms-value",e):$(this).val(e)),0!=o.length){var n=$(this).find("option"),s=$(this);n.each((function(){$(this).attr("value")!=e&&$(this).html()!=e||(s.val($(this).attr("value")),null!=s.data("picker")&&s.data("picker").sync_picker_with_select())}))}if(0!=a.length&&""!=e&&null!=e){var d=e.split(","),l=$(this).closest(".piotnetforms-fields-wrapper").find("[data-piotnetforms-image-upload-label]");for(var f in null==l.attr("multiple")&&l.addClass("piotnetforms-image-upload-label-hidden"),d)l.before('<div class="piotnetforms-image-upload-placeholder piotnetforms-image-upload-uploaded" style="background-image:url('+d[f]+')" data-piotnetforms-image-upload-placeholder=""><input type="text" style="display:none;" data-piotnetforms-image-upload-item value="'+d[f]+'"><span class="piotnetforms-image-upload-button piotnetforms-image-upload-button--remove" data-piotnetforms-image-upload-button-remove><i class="fa fa-times" aria-hidden="true"></i></span><span class="piotnetforms-image-upload-button piotnetforms-image-upload-button--uploading" data-piotnetforms-image-upload-button-uploading><i class="fa fa-spinner fa-spin"></i></span></div>')}$(this).change()}))},$("[data-piotnetforms-submit-update-user-profile]").each((function(){for(var t=$(this).attr("data-piotnetforms-submit-form-id"),e=JSON.parse($(this).attr("data-piotnetforms-submit-update-user-profile")),o=0;o<e.length;o++){var i=$(document).find('[data-piotnetforms-id="'+t+'"][name^="form_fields['+e[o].field_id+']"]');setFieldValue(i,e[o].user_meta_value)}}));var $conditionals=$(document).find("body:not(.piotnetforms-editor-active) [data-piotnetforms-conditional-logic]");function FormatNumberBy3(t,e,o){var i=(t+"").split("."),a=Number(i[0]).toLocaleString("en-US"),r="";return i.length>1&&(r="."+i[1]),t=(t=(t=(t=a+r).replace(/\./g,"|")).replace(/,/g,o)).replace(/\|/g,e)}function round(t,e,o,i,a){var r=Number(Math.round(t+"e"+e)+"e-"+e);if(""==a)return FormatNumberBy3(r,o,i);var n=Number(r.toFixed(e)),s=FormatNumberBy3(n,o,i);if(e>0)if(Number.isInteger(n))s+=o+"0".repeat(e);else if("number"==typeof n){var d=s.length-s.indexOf(o)-1;s+="0".repeat(e-d)}return s}function roundValue(t,e,o){var i=Number(Math.round(t+"e"+e)+"e-"+e);return""==o?i:Number(i.toFixed(e))}function parseFloatWithRemoveSepChar(t,e,o){return"string"==typeof t&&("string"==typeof e&&(t=t.replaceAll(e,"")),"string"==typeof o&&"."!==o&&(t=t.replaceAll(o,"."))),parseFloat(t)}function evalWithVariables(t,e){try{return new Function("v","with (v) { return ("+t+")}")(e)}catch(t){return}}function piotnetformsCalculatedFieldsForm(t){""!==t&&null!==window["calculated-data"]&&void 0!==window["calculated-data"]||(window["calculated-data"]={});var e=window["calculated-data"],o="[data-piotnetforms-calculated-fields]";""!=t&&(o="[data-piotnetforms-calculated-fields*='"+(t='[field id="'+t+'"]')+"'],[data-piotnetforms-calculated-fields-coupon-code='"+t+"']"),$(document).find(o).each((function(){var t=$(this).closest(".piotnetforms-fields-wrapper"),o=$(this),i=o.data("piotnetforms-id"),a=o.data("piotnetforms-calculated-fields"),r=o.data("piotnetforms-calculated-fields-rounding-decimals"),n=o.data("piotnetforms-calculated-fields-rounding-decimals-decimals-symbol"),s=o.data("piotnetforms-calculated-fields-rounding-decimals-show"),d=o.data("piotnetforms-calculated-fields-rounding-decimals-seperators-symbol"),l=$(this).closest("[data-piotnetforms-repeater-form-id]");if(-1==a.indexOf("field id"))$(document).find('[name^="form_fields"][data-piotnetforms-id="'+i+'"]').each((function(t,o){if(null!=$(this).attr("id")){var a=$(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""),r=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+']"]'),s=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+']"]').attr("type"),f=$(this).closest("[data-piotnetforms-repeater-form-id]");if(r.length>0){var p=0;if("radio"===s||"checkbox"===s?p=f.length>0?$(o.closest("[data-piotnetforms-repeater-id]")).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+']"]:checked').val():$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+']"]:checked').val():null!==r.val()&&(p=r.val().trim()),p?(p=parseFloatWithRemoveSepChar(p,d,n),isNaN(p)&&(p=0)):p=0,f.length>0){var m=$(document).find('[data-piotnetforms-repeater-form-id="'+l.data("piotnetforms-repeater-form-id")+'"]'),c=l.index()-m.index();e["piotnetforms_"+a+"_piotnetpiotnetforms"+c+"x"]=p}else e[a]=p}if(-1!==a.indexOf("[]")){if(a=a.replace("[]",""),f.length>0)var h=f.find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+'][]"]');else h=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+'][]"]');if(h.length>0){k=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+'][]"]').attr("type");var u=[];if("checkbox"==k)f.length>0?f.find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+'][]"]:checked').each((function(t,e){u.push($(this).val())})):$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+a+'][]"]:checked').each((function(t,e){u.push($(this).val())}));else if(null==(u=h.val()))u=[];for(var v=0,g=0;g<u.length;g++)p=parseFloatWithRemoveSepChar(u[g],d,n),isNaN(p)&&(p=0),v+=p;if(f.length>0){m=$(document).find('[data-piotnetforms-repeater-form-id="'+l.data("piotnetforms-repeater-form-id")+'"]'),c=l.index()-m.index();e["piotnetforms_"+a+"_piotnetpiotnetforms"+c+"x"]=v}else e[a]=v}}}}));else if(null!=(w=a.match(/"(.*?)"/g)))for(var f=0;f<w.length;f++){var p=w[f].replace('"',"").replace('"',""),m=$(document).find('[data-piotnetforms-id="'+i+'"][name^="form_fields['+p+']"]'),c=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+p+']"]');if(m.length>0){var h=m.attr("name").replace("form_fields[","").replace("]",""),u=m.attr("type");if(c.length>=1&&0==c.closest("[data-piotnetforms-repeater-id]").length){if("radio"==u||"checkbox"==u)var v=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+h+']"]:checked').val();else if(null!==c.val())v=c.val().trim();null==v?v=0:(v=parseFloatWithRemoveSepChar(v,d,n),isNaN(v)&&(v=0)),null!=c.attr("data-piotnetforms-date-range-days")&&(v=c.attr("data-piotnetforms-date-range-days")),null!=c.attr("data-piotnetforms-date-calculate")&&(v=c.attr("data-piotnetforms-date-calculate")),null!=c.attr("data-piotnetforms-booking-price")&&(v=c.attr("data-piotnetforms-booking-price")),e[h]=parseFloatWithRemoveSepChar(v,d,n),c.closest("[data-piotnetforms-conditional-logic]").length>0&&"none"==c.closest(".piotnetforms-fields-wrapper").css("display")&&(e[h]=0)}if(c.length>1||1==c.length&&c.closest("[data-piotnetforms-repeater-id]").length>0){var g=c.closest("[data-piotnetforms-repeater-id]");g.length>0&&c.each((function(t,o){if("radio"==u||"checkbox"==u)var a=$(o.closest("[data-piotnetforms-repeater-id]")).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+h+']"]:checked').val();else a=$(this).val().trim();null==a?a=0:(a=parseFloatWithRemoveSepChar(a,d,n),isNaN(a)&&(a=0)),null!=$(this).attr("data-piotnetforms-date-range-days")&&(a=$(this).attr("data-piotnetforms-date-range-days"));var r=$(document).find('[data-piotnetforms-repeater-form-id="'+l.data("piotnetforms-repeater-form-id")+'"]'),s=$(this).closest("[data-piotnetforms-repeater-id]").index()-r.index();$(this).closest("[data-piotnetforms-conditional-logic]").length>0&&"none"==$(this).closest(".piotnetforms-fields-wrapper").css("display")&&(a=0),e["piotnetforms_"+h+"_piotnetpiotnetforms"+s+"x"]=parseFloatWithRemoveSepChar(a,d,n)}))}if(-1!==h.indexOf("[]")){h=h.replace("[]","");var _=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+h+'][]"]'),k=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+h+'][]"]').attr("type");if(g=$(this).closest("[data-piotnetforms-repeater-id]"),1==_.length||_.length>1&&0==g.length){var b=[];if("checkbox"==k)$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+h+'][]"]:checked').each((function(t,e){null!=$(this).attr("data-piotnetforms-booking-price")?b.push($(this).attr("data-piotnetforms-booking-price")):b.push($(this).val())}));else if(null==(b=_.val()))b=[];for(var y=0,C=0;C<b.length;C++)v=parseFloatWithRemoveSepChar(b[C],d,n),isNaN(v)&&(v=0),y+=v;_.closest("[data-piotnetforms-conditional-logic]").length>0&&"none"==_.closest(".piotnetforms-fields-wrapper").css("display")&&(y=0),e[h]=y}g.length>0&&(_.length>1||1==_.length&&g.length)&&(_=g.find('[data-piotnetforms-id="'+i+'"][name="form_fields['+h+'][]"]')).each((function(){k=$(document).find('[data-piotnetforms-id="'+i+'"][name="form_fields['+h+'][]"]').attr("type");var t=[];if("checkbox"==k)g.find('[data-piotnetforms-id="'+i+'"][name="form_fields['+h+'][]"]:checked').each((function(e,o){t.push($(this).val())}));else if(null==(t=_.val()))t=[];for(var o=0,a=0;a<t.length;a++)v=parseFloatWithRemoveSepChar(t[a],d,n),isNaN(v)&&(v=0),o+=v;var r=$(document).find('[data-piotnetforms-repeater-form-id="'+l.data("piotnetforms-repeater-form-id")+'"]'),s=$(this).closest("[data-piotnetforms-repeater-id]").index()-r.index();$(this).closest("[data-piotnetforms-conditional-logic]").length>0&&"none"==$(this).closest(".piotnetforms-fields-wrapper").css("display")&&(o=0),e["piotnetforms_"+h+"_piotnetpiotnetforms"+s+"x"]=o}))}}}var w,F=$(document).find('[data-piotnetforms-repeater-form-id="'+i+'"]'),x=$(this).closest("[data-piotnetforms-repeater-id]").index()-F.index();if(F.length>0){for(var N in e)0==N.indexOf("piotnet_")&&(e[N]=0);for(var N in e)if(0==N.indexOf("piotnetforms_")){var D=N.split("_piotnetpiotnetforms")[0].replace("piotnetforms_","piotnet_");null==e[D]&&(e[D]=0),e[D]+=e[N]}for(var N in e)if(0==N.indexOf("piotnet_")){D=N.replace("piotnet_","");e[D]=e[N]}}if(null!=(w=a.match(/"(.*?)"/g)))for(f=0;f<w.length;f++){h=w[f].replace('"',"").replace('"',"");var S=$(document).find('[data-piotnetforms-repeater-id] [data-piotnetforms-calculated-fields][name="form_fields['+h+']"]');if(S.length>0){var I=0;S.each((function(){I+=parseFloatWithRemoveSepChar($(this).val(),d,n)}));var O=h,L=new RegExp(O,"g");a=a.replace(L,I)}}if(F.length>0)for(var N in e)if(0==N.indexOf("piotnetforms_")&&-1!==N.indexOf("_piotnetpiotnetforms"+x+"x"))O=N.split("_piotnetpiotnetforms")[0].split("piotnetforms_")[1],L=new RegExp(O,"g"),a=a.replace(L,N);if(null!=w)for(f=0;f<w.length;f++){h=w[f].replace('"',"").replace('"',"");null==e[h]&&(e[h]=0)}var T=evalWithVariables(a=a.replace(/\[field id=/g,"").replace(/"]/g,"").replace(/"/g,"").replace(/--/g,"+"),e);if(null!=$(this).attr("data-piotnetforms-calculated-fields-coupon-code")){var q=$(document).find('[name="form_fields['+$(this).attr("data-piotnetforms-calculated-fields-coupon-code").replace('[field id="',"").replace('"]',"")+']"]');if(q.length>0){var R=q.eq(0),A=R.attr("data-piotnetforms-coupon-code-list");void 0===A&&(A="[]");for(var M=JSON.parse(A),P=0;P<M.length;P++){var V=M[P];R.val()==V.piotnetforms_coupon_code&&("percentage"==V.piotnetforms_coupon_code_discount_type&&(T*=parseFloat((100-V.piotnetforms_coupon_code_coupon_amount)/100)),"flat_amount"==V.piotnetforms_coupon_code_discount_type&&(T-=parseFloat(V.piotnetforms_coupon_code_coupon_amount)))}}}if(!isNaN(T)){t.find(".piotnetforms-calculated-fields-form__value").html(round(T,r,n,d,s).replace("NaN",0));var j=o.val(),J=roundValue(T,r,s);if(o.val(J),j!==o.val())o.change(),piotnetformsCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))}}))}function checkIsMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)}function isValidJSONString(t){try{JSON.parse(t)}catch(t){return!1}return!0}function reInitFieldRepeater(t){var e=t.find("[data-piotnetforms-image-upload]");e.length>0&&e.each((function(){var t=$(this).closest(".piotnetforms-fields-wrapper");t.find("[data-piotnetforms-image-upload-placeholder]").remove(),t.find("[data-piotnetforms-image-upload-label]").show(0),t.find("[data-piotnetforms-id]").val("")}));var o=t.find("[data-piotnetforms-image-select]");o.length>0&&o.each((function(){$(this).closest(".piotnetforms-field").find(".image_picker_selector").remove();var t=$(this).data("piotnetforms-image-select"),e=$(this).find("option");$(this).closest(".piotnetforms-field").addClass("piotnetforms-image-select-field");var o=$(this);e.each((function(i,a){if(""==e.eq(0).attr("value").trim()&&0!=i){var r=t[i-1].url;$(this).attr("data-img-src",r),o.imagepicker({show_label:!0})}if(""!=e.eq(0).attr("value").trim()){r=t[i].url;$(this).attr("data-img-src",r),o.imagepicker({show_label:!0})}}))}));var i=t.find("[data-piotnetforms-spiner] .nice-number");i.length>0&&i.each((function(){var t=$(this).closest("[data-piotnetforms-spiner]"),e=$(this).find(".piotnetforms-field").prop("outerHTML");$(this).after(e),$(this).remove(),t.find(".piotnetforms-field").niceNumber({autoSize:!1})}));var a=t.find("[data-piotnetforms-repeater-id]");a.length>0&&a.each((function(){var t=$(this).data("piotnetforms-repeater-id");$(this).siblings('[data-piotnetforms-repeater-id="'+t+'"]').remove()})),t.find("[data-mask]").each((function(){$(this).mask($(this).attr("data-mask"))})),t.find("[data-piotnetforms-id]").each((function(){var t=$(this).find("option:first"),e=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(e=!0);var o=$(this).data("piotnetforms-default-value");null!=o&&""!=o||Number.isInteger(o)?$(this).val(o).change():0!=t.length?$(this).val(t.val()).change():e?$(this).prop("checked",!1).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue"):$(this).val("")}));var r=t.find("[data-piotnetforms-select-autocomplete]");r.length>0&&r.each((function(){for(var t=JSON.parse($(this).attr("data-options")),e="",o=0;o<t.length;o++){var i=t[o];i.indexOf("|")>=0?e+='<option value="'+(i=i.split("|"))[0]+'">'+i[1]+"</option>":e+='<option value="'+i+'">'+i+"</option>"}$(this).html(e),$(this).closest(".piotnetforms-field").find(".selectize-control").remove(),$(this).selectize({dropdownParent:"body"})}));var n=t.find(".piotnetforms-date-field");if(n.length>0){n.each((function(){!function(t){if(!t.hasClass("piotnetforms-use-native")){var e={minDate:t.attr("min")||null,maxDate:t.attr("max")||null,dateFormat:t.attr("data-date-format")||null,defaultDate:t.attr("data-piotnetforms-value")||null,allowInput:!0};t.flatpickr(e)}}($(this))}))}var s=t.find(".piotnetforms-time-field");if(s.length>0){s.each((function(){var t;(t=$(this)).hasClass("piotnetforms-use-native")||t.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:t.attr("data-piotnetforms-value")||null})}))}}function piotnetformsRepeaterFillValue(){$("[data-piotnetforms-repeater-value]").each((function(){var t=JSON.parse($(this).attr("data-piotnetforms-repeater-value")),e=$(this).data("piotnetforms-repeater-value-form-id"),o=$(this).data("piotnetforms-repeater-value-id"),i=$(document).find('[data-piotnetforms-repeater-form-id="'+e+'"][data-piotnetforms-repeater-id="'+o+'"]');if(!window["piotnetformsRepeaterFillValue"+o]&&(window["piotnetformsRepeaterFillValue"+o]=!0,t.length>=2&&$('[data-piotnetforms-repeater-form-id] [data-piotnetforms-repeater-trigger-action="remove"]').show(),i.length>0)){$(this).closest("[data-piotnetforms-repeater-form-id]").length>0&&(i=$(this).closest("[data-piotnetforms-repeater-form-id]").find('[data-piotnetforms-repeater-form-id="'+e+'"][data-piotnetforms-repeater-id="'+o+'"]'));for(var a=0;a<t.length-1;a++)i.eq(0).after(i.eq(0).prop("outerHTML"));for(var r in(i=$(document).find('[data-piotnetforms-repeater-form-id="'+e+'"][data-piotnetforms-repeater-id="'+o+'"]')).each((function(t,e){0!=t&&reInitFieldRepeater($(this))})),i=$(document).find('[data-piotnetforms-repeater-form-id="'+e+'"][data-piotnetforms-repeater-id="'+o+'"]'),t){var n=t[r];for(var s in n)if("object"!==_typeof(n[s])){var d=i.eq(r).find('[name^="form_fields['+s+']"]');setFieldValue(d,n[s])}else{var l=i.eq(r).find('[data-piotnetforms-repeater-form-id="'+e+'"][data-piotnetforms-repeater-id="'+s+'"]');for(a=0;a<n[s].length-1;a++)l.eq(0).after(l.eq(0).prop("outerHTML"));(l=i.eq(r).find('[data-piotnetforms-repeater-form-id="'+e+'"][data-piotnetforms-repeater-id="'+s+'"]')).each((function(t,e){0!=t&&reInitFieldRepeater($(this))}));var f=n[s];for(var p in f)for(var m in f[p])if("object"!==_typeof(f[p][m])){d=l.eq(p).find('[name^="form_fields['+m+']"]');setFieldValue(d,f[p][m])}}}var c=i.find("[data-piotnetforms-conditional-logic]");c.length>0&&piotnetformsConditionalLogicFormCheck(c),piotnetformsCalculatedFieldsForm(""),$(document).find('body:not(.piotnetforms-editor-active) [data-piotnetforms-conditional-logic][data-piotnetforms-id="'+e+'"]').change()}}))}function bookingLoad(t){var e=t.val(),o=t.attr("data-piotnetforms-id"),i=$(document).find('[data-piotnetforms-booking-item][data-piotnetforms-id="'+o+'"]');if(i.length>0){var a=(i=i.eq(0)).closest("[data-piotnetforms-booking]");a.addClass("piotnetforms-booking--loading");var r=JSON.parse(i.attr("data-piotnetforms-booking-item-options"));if(i.closest("[data-piotnetforms-step-item-id]").length>0)var n=i.closest("[data-piotnetforms-step-item-id]").attr("data-piotnetforms-step-item-id");else if(i.closest("[data-piotnetforms-shortcode-id]").length>0)n=i.closest("[data-piotnetforms-shortcode-id]").attr("data-piotnetforms-shortcode-id");else n=r.piotnetforms_booking_post_id;if(s="",t.closest("[data-piotnetforms-multi-step-form-id]").length>0)var s=t.closest("[data-piotnetforms-multi-step-form-id]").attr("data-piotnetforms-multi-step-form-id");var d={action:"piotnetforms_booking",date:e,post_id:n,element_id:r.piotnetforms_booking_element_id,multi_step_form_id:s};$.post($("[data-piotnetforms-ajax-url]").data("piotnetforms-ajax-url"),d,(function(t){a.html(t),piotnetformsCalculatedFieldsForm(""),a.removeClass("piotnetforms-booking--loading")}))}}function bookingItemLoad(){$(document).find("[data-piotnetforms-booking]").each((function(){var t=$(this).find("[data-piotnetforms-booking-item]").eq(0),e=JSON.parse(t.attr("data-piotnetforms-booking-item-options"));if(void 0!==e.piotnetforms_booking_date_field){var o="#form-field-"+e.piotnetforms_booking_date_field.replace('[field id="',"").replace('"]',"");$(document).find(o).addClass("piotnetforms-booking-date"),bookingLoad($(document).find(o))}else{var i=e.piotnetforms_booking_date,a=t.closest("[data-piotnetforms-booking]"),r=e;if(t.closest("[data-piotnetforms-step-item-id]").length>0)var n=t.closest("[data-piotnetforms-step-item-id]").attr("data-piotnetforms-step-item-id");else if(t.closest("[data-piotnetforms-shortcode-id-]").length>0)n=t.closest("[data-piotnetforms-shortcode-id]").attr("data-piotnetforms-shortcode-id");else n=r.piotnetforms_booking_post_id;if(s="",t.closest("[data-piotnetforms-multi-step-form-id]").length>0)var s=t.closest("[data-piotnetforms-multi-step-form-id]").attr("data-piotnetforms-multi-step-form-id");var d={action:"piotnetforms_booking",date:i,post_id:n,element_id:r.piotnetforms_booking_element_id,multi_step_form_id:s};$.post($("[data-piotnetforms-ajax-url]").data("piotnetforms-ajax-url"),d,(function(t){a.html(t),piotnetformsCalculatedFieldsForm(""),a.removeClass("piotnetforms-booking--loading")}))}}))}function paymentMethodsSelectField(){$("[data-piotnetforms-payment-methods-select-field]").each((function(){var t=$(this).attr("type"),e=$(this).attr("data-piotnetforms-id"),o=$(document).find('[data-piotnetforms-submit-form-id="'+e+'"]');if("radio"==t||"checkbox"==t)var i=$(this).closest(".piotnetforms-fields-wrapper").find("input:checked").val();else i=$(this).val().trim();i!=$(this).attr("data-piotnetforms-payment-methods-select-field-value-for-stripe")?void 0!==o.attr("data-piotnetforms-stripe-currency")&&o.removeAttr("data-piotnetforms-stripe-submit"):void 0!==o.attr("data-piotnetforms-stripe-currency")&&o.attr("data-piotnetforms-stripe-submit",""),i!=$(this).attr("data-piotnetforms-payment-methods-select-field-value-for-paypal")?void 0!==o.attr("data-piotnetforms-paypal-submit-enable")&&(o.removeAttr("data-piotnetforms-paypal-submit"),o.closest(".piotnetforms-submit").find(".piotnetforms-paypal").hide()):void 0!==o.attr("data-piotnetforms-paypal-submit-enable")&&(o.attr("data-piotnetforms-paypal-submit",""),o.closest(".piotnetforms-submit").find(".piotnetforms-paypal").show())}))}$conditionals.length>0&&piotnetformsConditionalLogicFormCheck($conditionals),$(document).on("keyup change","[data-piotnetforms-id]",$.debounce(200,(function(){piotnetformsConditionalLogicFormCheck($(document).find("body:not(.piotnetforms-editor-active) [data-piotnetforms-conditional-logic]"))}))),piotnetformsCalculatedFieldsForm(""),$(document).on("keyup change","[data-piotnetforms-id]",$.debounce(200,(function(){piotnetformsCalculatedFieldsForm($(this).attr("name").replace("[]","").replace("form_fields[","").replace("]",""))}))),$('[data-piotnetforms-id][type="hidden"]').each((function(){$(this).closest(".piotnetforms-widget-piotnetforms-field").addClass("piotnetforms-widget-piotnetforms-field-hidden")})),$(document).on("click","[data-piotnetforms-repeater-form-id-trigger]",(function(e){if(e.preventDefault(),0==$(this).closest("[data-piotnetforms-widget-preview]").length){var formID=$(this).data("piotnetforms-repeater-form-id-trigger"),repeaterID=$(this).data("piotnetforms-repeater-id-trigger"),repeaterTriggerAction=$(this).data("piotnetforms-repeater-trigger-action"),$repeater=$(document).find('[data-piotnetforms-repeater-form-id="'+formID+'"][data-piotnetforms-repeater-id="'+repeaterID+'"]');if("add"==repeaterTriggerAction){if($(document).find('[data-piotnetforms-repeater-id="'+repeaterID+'"] [data-piotnetforms-repeater-trigger-action="remove"]').show(),$repeater.length>0){$(this).closest("[data-piotnetforms-repeater-form-id]").length>0&&($repeater=$(this).closest("[data-piotnetforms-repeater-form-id]").find('[data-piotnetforms-repeater-form-id="'+formID+'"][data-piotnetforms-repeater-id="'+repeaterID+'"]'));var repeaterLimit=$repeater.eq(0).attr("data-piotnetforms-repeater-limit");if(0==repeaterLimit||repeaterLimit>0&&$repeater.eq($repeater.length-1).siblings('[data-piotnetforms-repeater-id="'+repeaterID+'"]').length<repeaterLimit-1){$repeater.eq($repeater.length-1).siblings('[data-piotnetforms-repeater-id="'+repeaterID+'"]').length==repeaterLimit-2&&$(this).hide(),$repeater.eq($repeater.length-1).after($repeater.eq(0).prop("outerHTML"));var $repeaterNew=$repeater.eq($repeater.length-1).next(),$radioField=$repeaterNew.find('input[type="radio"]');$radioField.each((function(t,e){var o=$(this).attr("id");$(this).attr("id",o+$repeater.length+t),$(this).siblings("label").attr("for",o+$repeater.length+t)}));var $checkboxField=$repeaterNew.find('input[type="checkbox"]');$checkboxField.each((function(t,e){var o=$(this).attr("id");$(this).attr("id",o+$repeater.length+t),$(this).siblings("label").attr("for",o+$repeater.length+t)}));var $mapAddress=$repeaterNew.find("[data-piotnetforms-address-autocomplete]");$mapAddress.length>0&&piotnetformsAddressAutocompleteInitMap();var $conditionals=$repeaterNew.find("[data-piotnetforms-conditional-logic]");$conditionals.length>0&&piotnetformsConditionalLogicFormCheck($conditionals),$(document).find('body:not(.piotnetforms-editor-active) [data-piotnetforms-conditional-logic][data-piotnetforms-id="'+formID+'"]').change();var $imageUploadField=$repeaterNew.find("[data-piotnetforms-image-upload]");$imageUploadField.length>0&&$imageUploadField.each((function(){var t=$(this).closest(".piotnetforms-fields-wrapper");t.find("[data-piotnetforms-image-upload-placeholder]").remove(),t.find("[data-piotnetforms-image-upload-label]").show(0),t.find("[data-piotnetforms-id]").val("")})),$repeaterNew.find("[data-mask]").each((function(){$(this).mask($(this).attr("data-mask"))}));var $imageSelect=$repeaterNew.find("[data-piotnetforms-image-select]");$imageSelect.length>0&&$imageSelect.each((function(){$(this).closest(".piotnetforms-field").find(".image_picker_selector").remove();var t=$(this).data("piotnetforms-image-select"),e=$(this).find("option");$(this).closest(".piotnetforms-field").addClass("piotnetforms-image-select-field");var o=$(this);e.each((function(i,a){if(""==e.eq(0).attr("value").trim()&&0!=i){var r=t[i-1].url;$(this).attr("data-img-src",r),o.imagepicker({show_label:!0})}if(""!=e.eq(0).attr("value").trim()){r=t[i].url;$(this).attr("data-img-src",r),o.imagepicker({show_label:!0})}}))})),window.pfIntlTelInput=function(t,e){t.length>0&&(t.each((function(){$(this).intlTelInput({autoHideDialCode:!0,autoPlaceholder:"off",dropdownContainer:document.body,formatOnDisplay:!1,hiddenInput:"full_number",initialCountry:e,nationalMode:!1,preferredCountries:["US"],separateDialCode:!0,utilsScript:""})})),"rtl"==$("html").attr("dir")&&$("body").addClass("iti-rtl"))};var $pfTelField=$(document).find("[data-piotnetforms-tel-field]");if($pfTelField.length>0){var countryCode="us",data=new FormData;data.append("action","piotnetforms_get_country_code"),$.ajax(ajaxurl,{type:"POST",data,processData:!1,contentType:!1,timeout:5e3,success:function(t){"error"!=t&&(countryCode=t),pfIntlTelInput($pfTelField,countryCode)},error:function(t){pfIntlTelInput($pfTelField,countryCode)}})}var $rangeSlider=$repeaterNew.find("[data-piotnetforms-range-slider]");$rangeSlider.length>0&&$rangeSlider.each((function(){$(this).closest(".piotnetforms-fields-wrapper").find(".irs").remove();for(var t={},e=$(this).data("piotnetforms-range-slider").split(","),o=0;o<e.length;o++){var i=e[o].trim().split(":");if(null!=i[0]&&null!=i[1]){var a=i[1].trim().replace('"',"").replace('"',"");t[i[0]]="false"==a||"true"==a?"false"!=a:a}}t.onStart=function(t){},$(this).ionRangeSlider(t),$(this).addClass("irs-hidden-input")}));var $niceNumber=$repeaterNew.find("[data-piotnetforms-spiner] .nice-number");$niceNumber.length>0&&$niceNumber.each((function(){var t=$(this).closest("[data-piotnetforms-spiner]"),e=$(this).find(".piotnetforms-field").prop("outerHTML");$(this).after(e),$(this).remove(),t.find(".piotnetforms-field").niceNumber({autoSize:!1})}));var $repeaterSub=$repeaterNew.find("[data-piotnetforms-repeater-id]");$repeaterSub.length>0&&(piotnetformsConditionalLogicFormCheck($repeaterSub),$repeaterSub.each((function(){var t=$(this).data("piotnetforms-repeater-id");$(this).siblings('[data-piotnetforms-repeater-id="'+t+'"]').remove()})));var $fieldsInside=$repeaterNew.find("[data-piotnetforms-id]");$fieldsInside.each((function(){var t=$(this).find("option:first"),e=!1;"radio"!=$(this).attr("type")&&"checkbox"!=$(this).attr("type")||(e=!0);var o=$(this).data("piotnetforms-default-value");null!=o&&""!=o||Number.isInteger(o)?e?(o=$(this).attr("data-value"),$(this).val(o).change()):$(this).val(o).change():0!=t.length?$(this).val(t.val()).change():e?$(this).prop("checked",!1).removeClass("piotnetforms-checked").removeClass("piotnetforms-checked-setvalue"):$(this).val("")}));var $selectAutocomplete=$repeaterNew.find("[data-piotnetforms-select-autocomplete]");$selectAutocomplete.length>0&&$selectAutocomplete.each((function(){for(var t=JSON.parse($(this).attr("data-options")),e="",o=0;o<t.length;o++){var i=t[o];i.indexOf("|")>=0?e+='<option value="'+(i=i.split("|"))[1]+'">'+i[0]+"</option>":e+='<option value="'+i+'">'+i+"</option>"}$(this).html(e),$(this).closest(".piotnetforms-field").find(".selectize-control").remove(),$(this).selectize({dropdownParent:"body"})}));var $dateField=$repeaterNew.find(".piotnetforms-date-field");if($dateField.length>0&&!checkIsMobile()){var addDatePicker=function addDatePicker($element){if(!$element.hasClass("piotnetforms-use-native")){var minDate=$($element).attr("min")?flatpickr.parseDate($($element).attr("min"),"Y-m-d"):null,maxDate=$($element).attr("max")?flatpickr.parseDate($($element).attr("max"),"Y-m-d"):null,options={minDate,maxDate,dateFormat:$element.attr("data-date-format")||null,defaultDate:$element.attr("data-piotnetforms-value")||null,allowInput:!0,animate:!1,onReady:function(t){var e=parseInt(t[0]/864e5,10);$element.attr("data-piotnetforms-date-calculate",e)},onClose:function(t){var e=parseInt(t[0]/864e5,10);$element.attr("data-piotnetforms-date-calculate",e)}};if(null!=$element.data("piotnetforms-date-range"))var options={minDate,maxDate,dateFormat:$element.attr("data-date-format")||null,defaultDate:$element.attr("data-piotnetforms-value")||null,allowInput:!0,animate:!1,onClose:function onClose(date){var startDay=flatpickr.formatDate(date[0],"m/d/Y"),endDay=flatpickr.formatDate(date[1],"m/d/Y"),newStartDate=new Date(startDay).getTime(),newEndDate=new Date(endDay).getTime(),newStartDate=eval(newStartDate/1e3+3600),newEndDate=eval(newEndDate/1e3+3600),countDays=eval(newEndDate-newStartDate),countDays=eval(countDays/86400+1);$element.attr("data-piotnetforms-date-range-days",countDays)},mode:"range"};"english"!=$element.data("piotnetforms-date-language")&&(options.locale=$element.attr("data-piotnetforms-date-language")),$element.hasClass("flatpickr-custom-options")&&(options=isValidJSONString($element.attr("data-piotnetforms-flatpickr-custom-options"))?JSON.parse($element.attr("data-piotnetforms-flatpickr-custom-options")):$element.attr("data-piotnetforms-flatpickr-custom-options")),$element.flatpickr(options)}};$dateField.each((function(){addDatePicker($(this))}))}var $timeField=$repeaterNew.find(".piotnetforms-time-field");if($timeField.length>0&&!checkIsMobile()){var addTimePicker=function(t){t.hasClass("piotnetforms-use-native")||t.flatpickr({noCalendar:!0,enableTime:!0,allowInput:!0,defaultDate:t.attr("data-piotnetforms-value")||null})};$timeField.each((function(){addTimePicker($(this))}))}}}}else if($(document).find('[data-piotnetforms-repeater-id-trigger="'+repeaterID+'"]').show(),2==$repeater.length&&$(document).find('[data-piotnetforms-repeater-id="'+repeaterID+'"] [data-piotnetforms-repeater-trigger-action="'+repeaterTriggerAction+'"]').hide(),$repeater.length>1){var $repeaterParent=$(this).closest('[data-piotnetforms-repeater-form-id="'+formID+'"]');$repeaterParent.siblings('[data-piotnetforms-repeater-form-id="'+formID+'"]').length>0&&$(this).closest('[data-piotnetforms-repeater-form-id="'+formID+'"]').remove();var $conditionals=$(document).find("body:not(.piotnetforms-editor-active) [data-piotnetforms-conditional-logic]");$conditionals.length>0&&piotnetformsConditionalLogicFormCheck($conditionals),$(document).find('body:not(.piotnetforms-editor-active) [data-piotnetforms-conditional-logic][data-piotnetforms-id="'+formID+'"]').change(),$(document).find('body:not(.piotnetforms-editor-active) [data-piotnetforms-id="'+formID+'"]').change(),piotnetformsCalculatedFieldsForm("")}}})),$("[data-piotnetforms-repeater-id]").each((function(){if(0==$(this).closest("[data-piotnetforms-widget-preview]").length){var t=$(this).data("piotnetforms-repeater-form-id"),e="piotnetforms-end-repeater"+$(this).data("piotnetforms-repeater-id");$(this).after('<div class="piotnetforms-fields-wrapper piotnetforms-fields-wrapper-7d558e4 piotnetforms-widget piotnetforms-widget-piotnetforms-field piotnetforms-widget-piotnetforms-field-hidden" data-element_type="widget" data-widget_type="piotnetforms-field.default" style="opacity: 0.45;"><div class="piotnetforms-widget-container"><div class="piotnetforms-fields-wrapper piotnetforms-labels-above"><div class="piotnetforms-field-type-hidden piotnetforms-field-group piotnetforms-column piotnetforms-field-group-'+e+' piotnetforms-col-100"><div data-piotnetforms-required=""></div><input size="1" class="piotnetforms-field piotnetforms-size- " type="hidden" name="form_fields['+e+']" id="form-field-'+e+'" autocomplete="on" data-piotnetforms-default-value="" value="" data-piotnetforms-value="" data-piotnetforms-id="'+t+'"></div></div></div></div>')}})),$('[data-piotnetforms-repeater-form-id] [data-piotnetforms-repeater-trigger-action="remove"]').hide(),setTimeout(piotnetformsRepeaterFillValue(),1e3),bookingItemLoad(),$(document).on("change",".piotnetforms-booking-date",(function(){bookingLoad($(this))})),$(document).on("change","[data-piotnetforms-booking-item]",(function(){if($(this).is(":checked")){if($(this).closest(".piotnetforms-booking__item").addClass("active"),null!=$(this).attr("data-piotnetforms-booking-item-radio")){var t=$(this).closest(".piotnetforms-booking__item").siblings();t.find("input").prop("checked",!1),t.removeClass("active");var e=JSON.parse($(this).attr("data-piotnetforms-booking-item-options"));if(void 0!==e.piotnetforms_booking_slot_quantity_field){var o="#form-field-"+e.piotnetforms_booking_slot_quantity_field.replace('[field id="',"").replace('"]',""),i=$(this).attr("data-piotnetforms-booking-availble");$(o).attr("max",i)}}}else $(this).closest(".piotnetforms-booking__item").removeClass("active")})),$(document).on("click","[data-piotnetforms-trigger-success],[data-piotnetforms-trigger-failed]",(function(){bookingItemLoad()})),$(document).on("click","[data-piotnetforms-trigger-success]",(function(){if(0==$(this).closest(".piotnetforms-fields-wrapper").find("[data-piotnetforms-submit-update-user-profile]").length){var t=$(document).find("body:not(.piotnetforms-editor-active) [data-piotnetforms-conditional-logic]");t.length>0&&piotnetformsConditionalLogicFormCheck(t)}})),paymentMethodsSelectField(),$(document).on("change","[data-piotnetforms-payment-methods-select-field]",(function(){paymentMethodsSelectField()})),$("[data-piotnetforms-repeater-form-id] .piotnetforms-field-subgroup").each((function(){$(this).wrapAll("<form></form>")}))}))})();