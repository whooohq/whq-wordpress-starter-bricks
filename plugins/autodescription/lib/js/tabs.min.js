'use strict';window.tsfTabs=function(){const a=new Map,b=new Map,c=()=>{let b=new Event("change");a.forEach(a=>{a.fixHistory&&document.querySelectorAll(`.${a.HTMLClasses.tabRadio}:checked`).forEach(a=>{a.dispatchEvent(b)})})},d=(a,b)=>{const c=g(a),d=document.getElementById(`${b.id}-content`);d&&!d.classList.contains(c.HTMLClasses.activeTabContent)&&(document.querySelectorAll(`.${b.name}-content`).forEach(a=>{a.classList.remove(c.HTMLClasses.activeTabContent)}),d.classList.add(c.HTMLClasses.activeTabContent)),document.getElementById(b.id).dispatchEvent(c.tabToggledEvent)},e=(a,c)=>{const d=c.name,e=g(a),f=125,h=175,i={fadeIn:{opacity:1,animation:"tsf-fade-in",animationDuration:`${h}ms`,animationTimingFunction:"cubic-bezier(.54,.12,.90,.60)"},fadeOut:{opacity:0,animation:"tsf-fade-out",animationDuration:`${f}ms`,animationTimingFunction:"cubic-bezier(.54,.12,.90,.60)"}},j=a=>{for(const b in i.fadeIn)a.style[b]=i.fadeIn[b]},k=a=>{for(const b in i.fadeOut)a.style[b]=i.fadeOut[b]},l=b.get("container").get(d),m=document.querySelectorAll(`.${c.name}-content`),n=()=>{l.style.boxSizing="border-box",l.style.minHeight=`${l.getBoundingClientRect().height}px`},o=()=>{l.style.minHeight=""},p=async()=>{let a=document.getElementById(`${b.get("target").get(d)}-content`);return n(),m.forEach(a=>{a.classList.remove(e.HTMLClasses.activeTabContent)}),a.classList.add(e.HTMLClasses.activeTabContent),o(),j(a),await new Promise(a=>setTimeout(a,2*h/3)),q()},q=async()=>{let a=document.getElementById(`${b.get("target").get(d)}-content`);!a||a.classList.contains(e.HTMLClasses.activeTabContent)?(s(),document.getElementById(b.get("target").get(d)).dispatchEvent(e.tabToggledEvent)):(n(),m.forEach(a=>{a.classList.remove(e.HTMLClasses.activeTabContent)}),requestAnimationFrame(()=>{p()&&s()}))},r=()=>new Promise(async a=>(m.forEach(k),await new Promise(a=>setTimeout(a,f)),p()&&a())),s=()=>b.get("promises").delete(d);(()=>{b.get("promises").has(d)||(b.get("promises").set(d,r),b.get("promises").get(d)())})()},f=(a,c)=>{const f=g(a),h=c.target,i=!c.isTrusted,j=c.target.id,k=c.target.name,l=k;b.get("wrap").has(l)||b.get("wrap").set(l,h.closest(`.${f.HTMLClasses.wrapper}`));const m=b.get("wrap").get(l).querySelector(`.${f.HTMLClasses.activeTab}`);if(!i){const a=document.querySelector(`.${f.HTMLClasses.activeTabContent} :invalid`);if(a)return a.reportValidity(),m&&(m.checked=!0),h.checked=!1,c.stopPropagation(),c.preventDefault(),!1}if(m){m.classList.remove(f.HTMLClasses.activeTab);let a=document.querySelector(`.${f.HTMLClasses.tabLabel}[for="${m.id}"]`);a&&a.classList.remove("tsf-no-focus-ring")}if(h.classList.add(f.HTMLClasses.activeTab),i)d(a,c.target);else{if(b.get("container").has(l)||b.get("container").set(l,h.closest(".inside")),b.get("target").set(l,j),b.get("promises").has(l))return;e(a,c.target)}},g=b=>a.get(b);return Object.assign({load:()=>{b.set("promises",new Map),b.set("target",new Map),b.set("wrap",new Map),b.set("container",new Map),window.addEventListener("load",c)}},{toggleToInstant:d,toggleTo:e,getStack:g,initStack:(b,c)=>{a.set(b,c);const d=g(b),e=a=>f(b,a),h=a=>a.currentTarget.classList.add("tsf-no-focus-ring");document.querySelectorAll(`.${d.HTMLClasses.tabRadio}`).forEach(a=>{a.addEventListener("change",e)}),document.querySelectorAll(`.${d.HTMLClasses.wrapper} .${d.HTMLClasses.tabLabel}`).forEach(a=>{a.addEventListener("click",h)})}})}(),window.tsfTabs.load();
