'use strict';window.tsfTT=function(){const a="tsf-tooltip",b={base:a,item:`${a}-item`,wrap:`${a}-wrap`,superWrap:`${a}-super-wrap`,text:`${a}-text`,textWrap:`${a}-text-wrap`,boundary:`${a}-boundary`,arrow:`${a}-arrow`},c=Object.fromEntries(Object.entries(b).map(([a,b])=>[a,`.${b}`])),d={updateDesc:a=>{if(a.target.classList.contains(b.item)){let b=a.target.querySelector(c.text);b instanceof Element&&(b.innerHTML=a.target.dataset.desc,a.target.dispatchEvent(new Event("mousemove")))}},pointerEnter:async a=>{let c=a.target.dataset.desc||a.target.title||"";return!(!c||a.target.getElementsByClassName(b.base).length)&&(a.target.dataset.desc=c,a.target.removeAttribute("title"),await n(a,a.target,c))},pointerMove:a=>{g.currPos.x=a.pageX||NaN,g.lastMoveEvent=a},pointerLeave:a=>{p(a.target),e(a.target).unset(),a.relatedTarget?.classList?.contains(b.item)||i()}},e=a=>{const b={mousemove:d.pointerMove,mouseleave:d.pointerLeave,mouseout:d.pointerLeave,blur:d.pointerLeave};return{set:()=>{for(const[c,d]of Object.entries(b))a.addEventListener(c,d);a.addEventListener("tsf-tooltip-update",d.updateDesc)},unset:()=>{for(const[c,d]of Object.entries(b))a.removeEventListener(c,d)}}},f={tooltip:void 0,arrow:void 0,wrap:void 0,reset:()=>{f.tooltip=f.arrow=f.wrap=void 0}},g={lastPos:{x:void 0},currPos:{x:void 0},lastMoveEvent:void 0,reset:()=>{g.lastMoveEvent=void 0,g.currPos={x:void 0},g.lastPos={x:void 0}}},{_requestArrowAnimation:h,_cancelArrowAnimation:i,_requestArrowAnimationOnce:j}=(()=>{let a;const b=()=>{a=requestAnimationFrame(e)},d=()=>{cancelAnimationFrame(a),g.lastMoveEvent=void 0,f.reset(),g.reset()},e=()=>{var e=Math.round;let h=![g.currPos.x].includes(NaN);if(h&&g.currPos.x===g.lastPos.x)return void b();g.lastPos.x=g.currPos.x;const i=g.lastMoveEvent,j=i.target;let k=f.tooltip||j.querySelector(c.base);if(!k)return void b();f.tooltip||=k,f.arrow||=k.querySelector(c.arrow),f.wrap||=j.closest(c.wrap)||j.parentNode;let l=g.currPos.x;"focus"===i.type?l=j.getBoundingClientRect().left+j.offsetWidth/2:isNaN(l)&&(l=f.tooltip.dataset.lastPagex||j.getBoundingClientRect().left),f.tooltip.dataset.lastPagex=l;const m=f.tooltip.querySelector(c.textWrap),n=7,o=16;let p=l-f.wrap.getBoundingClientRect().left-o/2,q=f.tooltip.dataset.adjust,r=m.offsetWidth-o-n;if(q=parseInt(q,10),q=isNaN(q)?0:e(q),q&&(p-=q,r+q>f.wrap.offsetWidth)){let a=m.querySelector(c.text),b=a.offsetWidth;r=b-o-n}f.arrow.style.left=p<=n?`${n}px`:p>=r?`${r}px`:`${p}px`,h?b():a&&d()};return{_requestArrowAnimation:b,_cancelArrowAnimation:d,_requestArrowAnimationOnce:()=>{e(),d()}}})(),k=a=>({lock:()=>{if(a.dataset.preventedClick=1,a instanceof HTMLLabelElement&&a.htmlFor){let b=document.getElementById(a.htmlFor);b&&(b.dataset.preventedClick=1)}a instanceof HTMLInputElement&&a.id&&document.querySelectorAll(`label[for="${a.id}"]`).forEach(a=>{a.dataset.preventedClick=1})},release:()=>{if(a instanceof Element){if(delete a.dataset.preventedClick,a instanceof HTMLLabelElement&&a.htmlFor){let b=document.getElementById(a.htmlFor);b&&delete b.dataset.preventedClick}a instanceof HTMLInputElement&&a.id&&document.querySelectorAll(`label[for="${a.id}"]`).forEach(a=>{delete a.dataset.preventedClick})}},isLocked:()=>a instanceof Element&&!!+a.dataset.preventedClick}),l=()=>{let a=!1,f=!1;try{(()=>{const b={get passive(){return a=!0,!1},get capture(){return f=!0,!1}};window.addEventListener("tsf-tt-test-passive",null,b),window.removeEventListener("tsf-tt-test-passive",null,b)})()}catch(b){a=!1,f=!1}const g=async a=>{if(a.target.dataset.hasTooltip)return;let b=!1;switch(a.type){case"mouseenter":break;case"pointerdown":case"touchstart":b=!0;break;case"focus":default:}b||k(a.target).lock(),i();(await d.pointerEnter(a))&&(d.pointerMove(a),b?j():h(),e(a.target).set())},l=a=>{k(a.target).isLocked()||(a.preventDefault(),setTimeout(()=>k(a.target).lock()))};let m=!1;const n=a=>{m||(m=!0,a.target.classList.contains(b.item)&&g(a),a.stopPropagation(),m=!1)},p=!(a&&f)||{capture:!0,passive:!0},q=()=>{let a=document.querySelectorAll(c.wrap),b="mouseenter pointerdown touchstart focus".split(" ");for(let c=0;c<a.length;c++)b.forEach(b=>{a[c].addEventListener(b,n,p)}),a[c].addEventListener("click",l,!!f&&{capture:!1})};window.addEventListener("tsf-tooltip-reset",q),s(),o("#wpwrap")},m=(a,d,e)=>{var f=Math.min;d.dataset.hasTooltip=1;const g=document.createElement("div");g.classList.add(b.base),g.insertAdjacentHTML("afterbegin",`<span class=${b.textWrap}><span class=${b.text}>${e}</span></span><div class=${b.arrow} style=will-change:left></div>`),d.prepend(g);const h=d.closest(c.boundary)||d.closest(".edit-post-sidebar")||document.getElementById("wpcontent")||document.body,i=h.getBoundingClientRect(),j=i.top-(h.scrollTop||0),k=i.width,l=250,m=d.closest(c.superWrap),n=d.closest(c.wrap)||d.parentElement,o=g.querySelector(c.textWrap),p=m?.getBoundingClientRect(),q=n.getBoundingClientRect();let r;const s=()=>{r=o.getBoundingClientRect()};s();let t=12,u=0;r.width>k-t/2?(o.style.flexBasis=`${f(l,k-t)}px`,s(),t/=2):r.width>l?(o.style.flexBasis=`${l}px`,o.style.maxWidth=`${l}px`,s()):t/=2;const v=i.left-(h.scrollLeft||0),w=v+k,x=r.width,y=r.left,z=y+x,A=p?.width||q.width;if(y<v)u=v-y+t;else if(z>w)u=w-y-x-t;else if(42>A)u=-A/2-t;else if(A>x){let b=a?.pageX||NaN;u="focus"===a?.type?A/2-x/2:isNaN(b)?-t:b-q.left-x/2+t;let c=-t,d=A-x+t;u<c&&(u=c),u>d&&(u=d)}else u=window.isRTL?t:-t;if(u+y<v+t&&(u+=t/2),u+z>w+t&&(u-=t/2),u+y<v&&(u=0),!a){let a=parseInt(o.style.flexBasis,10);u<-a&&(u=-a)}let B=0,C=0,D=0;p&&(B=q.top-p.top,D=q.left-p.left,x<p.width&&(u+=D),C=B,B-=p.height-q.height),g.style.left=`${u}px`,g.dataset.adjust=u-D;const E=d.offsetHeight+8;return j>g.getBoundingClientRect().top-E?(g.classList.add("tsf-tooltip-down"),g.style.top=`${E+C}px`):g.style.bottom=`${E-B}px`,!0},n=(a,b,d)=>{b?.[0]&&(b=b[0]);for(const f of document.querySelectorAll(c.base))p(f),e(f).unset();return!!d.length&&m(a,b,d)},o=a=>{a instanceof Element&&a.classList.add(b.boundary)},p=a=>{a?.[0]&&(a=a[0]),a instanceof HTMLElement&&(delete a.dataset.hasTooltip,k(a).release());const b=q(a);b?.parentNode.removeChild(b)},q=a=>(a?.[0]&&(a=a[0]),a?.classList.contains(b.base)?a:a?.querySelector(c.base));let r;const s=()=>{clearTimeout(r),r=setTimeout(()=>window.dispatchEvent(new CustomEvent("tsf-tooltip-reset")),100)};return Object.assign({load:()=>{document.body.addEventListener("tsf-ready",l)}},{doTooltip:n,removeTooltip:p,getTooltip:q,addBoundary:o,triggerReset:s,triggerUpdate:a=>{if(a&&a instanceof Element||(a=document.querySelectorAll(c.item)),!a)return;const b=new CustomEvent("tsf-tooltip-update");a instanceof Element?a.dispatchEvent(b):a instanceof Nodelist&&a.forEach(a=>a.dispatchEvent(b))}})}(),window.tsfTT.load();
