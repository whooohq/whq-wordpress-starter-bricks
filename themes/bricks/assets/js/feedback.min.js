document.addEventListener("DOMContentLoaded",(function(e){var r,s=jQuery("#bricks-feedback-form-wrapper");s&&(document.addEventListener("click",(function(e){if(e.target.classList.contains("close")&&e.target.closest("#bricks-feedback-form-wrapper")&&e.target.closest("#bricks-feedback-form-wrapper").classList.remove("show"),e.target.classList.contains("activate")){if(-1!==(r=e.target.href).indexOf("stylesheet=bricks-child"))return;e.preventDefault(),s.addClass("show")}})),jQuery(document).on("click","#bricks-feedback-form input[type=radio]",(function(e){switch(this.value){case"found_better_plugin":jQuery(".bricks_reason_found_better_plugin").addClass("show"),jQuery(".bricks_reason_how_to_use").removeClass("show"),jQuery(".bricks_reason_other").removeClass("show");break;case"how_to_use":jQuery(".bricks_reason_found_better_plugin").removeClass("show"),jQuery(".bricks_reason_how_to_use").addClass("show"),jQuery(".bricks_reason_other").removeClass("show");break;case"other":jQuery(".bricks_reason_how_to_use").removeClass("show"),jQuery(".bricks_reason_found_better_plugin").removeClass("show"),jQuery(".bricks_reason_other").addClass("show")}})),jQuery(document).on("submit","#bricks-feedback-form",(function(e){e.preventDefault();var o=jQuery(this).serializeArray(),a="",t="",n="",i="";o.forEach((function(e){a&&t&&n&&i||(a||"bricks_reason"!==e.name||(a=e.value),a&&e.name==="bricks_reason_"+a&&(t=e.value),n||"referer"!==e.name||(n=e.value),i||"version"!==e.name||(i=e.value))})),s.removeClass("show"),a?jQuery.ajax({method:"POST",contentType:"application/json",dataType:"json",url:"https://bricksbuilder.io/api/commerce/feedback/collect",data:JSON.stringify({reason:a,description:t,referer:n,version:i}),success:function(e){r?window.location.href=r:location.reload()},error:function(e){r?window.location.href=r:location.reload()}}):r?window.location.href=r:location.reload()})))}));
